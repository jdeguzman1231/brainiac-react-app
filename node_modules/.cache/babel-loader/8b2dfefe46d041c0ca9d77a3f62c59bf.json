{"ast":null,"code":"import { processRequest as defaultProcessRequest } from './processRequest';\nexport const graphqlUploadKoa = ({\n  processRequest = defaultProcessRequest,\n  ...processRequestOptions\n} = {}) => async (ctx, next) => {\n  if (!ctx.request.is('multipart/form-data')) return next();\n  const finished = new Promise(resolve => ctx.req.on('end', resolve));\n\n  try {\n    ctx.request.body = await processRequest(ctx.req, ctx.res, processRequestOptions);\n    await next();\n  } finally {\n    await finished;\n  }\n};","map":{"version":3,"sources":["/Users/josephdeguzman/Documents/CSE/brainiac-app/node_modules/@apollographql/graphql-upload-8-fork/lib/graphqlUploadKoa.mjs"],"names":["processRequest","defaultProcessRequest","graphqlUploadKoa","processRequestOptions","ctx","next","request","is","finished","Promise","resolve","req","on","body","res"],"mappings":"AAAA,SAASA,cAAc,IAAIC,qBAA3B,QAAwD,kBAAxD;AACA,OAAO,MAAMC,gBAAgB,GAAG,CAAC;AAC/BF,EAAAA,cAAc,GAAGC,qBADc;AAE/B,KAAGE;AAF4B,IAG7B,EAH4B,KAGrB,OAAOC,GAAP,EAAYC,IAAZ,KAAqB;AAC9B,MAAI,CAACD,GAAG,CAACE,OAAJ,CAAYC,EAAZ,CAAe,qBAAf,CAAL,EAA4C,OAAOF,IAAI,EAAX;AAC5C,QAAMG,QAAQ,GAAG,IAAIC,OAAJ,CAAYC,OAAO,IAAIN,GAAG,CAACO,GAAJ,CAAQC,EAAR,CAAW,KAAX,EAAkBF,OAAlB,CAAvB,CAAjB;;AAEA,MAAI;AACFN,IAAAA,GAAG,CAACE,OAAJ,CAAYO,IAAZ,GAAmB,MAAMb,cAAc,CACrCI,GAAG,CAACO,GADiC,EAErCP,GAAG,CAACU,GAFiC,EAGrCX,qBAHqC,CAAvC;AAKA,UAAME,IAAI,EAAV;AACD,GAPD,SAOU;AACR,UAAMG,QAAN;AACD;AACF,CAjBM","sourcesContent":["import { processRequest as defaultProcessRequest } from './processRequest'\nexport const graphqlUploadKoa = ({\n  processRequest = defaultProcessRequest,\n  ...processRequestOptions\n} = {}) => async (ctx, next) => {\n  if (!ctx.request.is('multipart/form-data')) return next()\n  const finished = new Promise(resolve => ctx.req.on('end', resolve))\n\n  try {\n    ctx.request.body = await processRequest(\n      ctx.req,\n      ctx.res,\n      processRequestOptions\n    )\n    await next()\n  } finally {\n    await finished\n  }\n}\n"]},"metadata":{},"sourceType":"module"}